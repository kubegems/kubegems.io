---
title: 用户应用
sidebar_position: 2
# description: 本文用于指导用户在KubeGems快速使用，并对Kubernetes相关的资源进行操作
# keywords: [kubegems,KubeGems,kubernetes]
---

## 用户应用

除了应用商店的应用，剩下的都应该是用户自己的应用，kubegems提供了用户应用管理的功能；

:::caution
通常情况下，应用有多个环境，同一个应用在不同的环境下，由于环境的基础设施不同，编排文件或许存在一些差异，但大部分的内容都相似；针对这样的情况， kubegems 的策略是`在项目下维护应用的模版，在环境下维护应用的实际编排`，即 在`项目`的应用中心维护的是应用的基础模版，它不会真实部署，只有将它和`环境`关联的时候，它才会部署到对应的环境中; 关联到具体环境之后，用户可以针对差异的部分进行再次编辑，编辑之后的编排文件仅对当前环境生效；
:::

### 创建应用模版

1. 创建应用

![create-app](./assets/create-app.png)

|字段|说明|
|---|---|
|应用名称|应用的名字，唯一|
|应用类型|Deployment StatefulSet DaemonSet 其中之一|
|说明|应用简介|

2. 编辑资源

kubegems 提供了简单的表单支持编辑workload，如果有复杂的需求，可以切换为yaml模式
caution

<img src={require('./assets/edit1.png').default} width="50%" align="left" />
<img src={require('./assets/edit2.png').default} width="50%" align="left" />

除了默认添加的资源，用户还可以添加`服务(Service)` `配置(ConfigMap)` `密钥(Secret)` `存储卷(PersistVolumnClaim)` `任务(Job)` `定时任务(CronJob)`这些资源到应用的编排定义中;

### 编辑环境下的应用

编辑环境下的应用和编辑项目下的应用模版操作一样，只是环境下的应用关联的是真实环境对应的基础设施内容，例如StorageClass;

:::important
1. 需要注意的是，环境下不能添加应用，只能从项目里关联应用
2. 点击同步会立即同步当前保存的编排文件到对应环境
:::
_用户应用_ 是从 _应用编排_ 关联到环境中的，后续简称 _应用_ 。

入口：要创建一个 _用户应用_ 您需要进入到需要部署应用的环境中，可以通过 **租户工作台** 中选择项目右侧 **⌵** 下拉栏选择对应环境 **进入环境**，
选择左侧菜单栏 **应用中心** - **应用** 进入应用列表页。

应用使用 argocd 进行部署，每一个应用都对应一个 argocd Application。

## 列表页

列表页面分两栏展示：

- **平台应用** 展示由应用编排下发的应用。
- **应用商店应用** 展示从应用商店部署的应用。

包含两个操作： **关联应用** 以及 **部署应用**

## 关联应用

**关联应用** 将一个应用编排当前状态复制到所在当前环境，后续在环境中进行的资源修改均对 **应用编排** 中无影响。
关联应用操作后默认不实际部署到集群中，您需要使用 **部署应用** 操作进行部署后才会实际部署到集群中。

## 部署应用

**部署应用** 用于将应用实际部署到集群。

部署应用时，您可以选择多个应用同时部署，为多个应用更新镜像tag并下发至集群。

## 应用详情

应用详情页面可以点击应用名称进入
