---
title: ä½¿ç”¨ Kind éƒ¨ç½²
hide_title: true
sidebar_position: 2
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

## ä½¿ç”¨ Kind éƒ¨ç½²

---

kindæ˜¯ä¸€ä¸ªä½¿ç”¨Dockerå®¹å™¨ "èŠ‚ç‚¹ "è¿è¡Œæœ¬åœ°Kubernetesé›†ç¾¤çš„å·¥å…·ã€‚kindä¸»è¦æ˜¯ä¸ºæµ‹è¯•Kubernetesæœ¬èº«è€Œè®¾è®¡ï¼Œä½†ä¹Ÿå¯ç”¨äºæœ¬åœ°å¼€å‘æˆ–CIã€‚æœ¬æ–‡é€šè¿‡ä»‹ç»kindçš„ä½¿ç”¨ï¼ŒæŒ‡å¯¼ç”¨æˆ·åœ¨æœ¬åœ°ç¯å¢ƒå¿«é€Ÿå¯åŠ¨ä¸€ä¸ªkubernetesæœåŠ¡ç”¨äºéƒ¨ç½² kubegemsã€‚

### installation

:::tip ä¿¡æ¯
`kind` æ— éœ€ä¾èµ– [`kubectl`](https://kubernetes.io/docs/reference/kubectl/overview/)ï¼Œä½†æ‚¨ä»ç„¶éœ€è¦å®‰è£… kubectl å·¥å…·ç”¨äºæ“ä½œ kubernetes èµ„æºã€‚å®‰è£…å‚è€ƒ [kubectl installation docs](https://kubernetes.io/docs/tasks/tools/install-kubectl/).
:::

<Tabs >
  <TabItem value="linux" label="ä½¿ç”¨ Linux å®‰è£…" default>

```bash
curl -Lo ./kind https://kind.sigs.k8s.io/dl/{{< stableVersion >}}/kind-linux-amd64
chmod +x ./kind
mv ./kind /some-dir-in-your-PATH/kind
```
  </TabItem>
  <TabItem value="mac" label="ä½¿ç”¨ MacOS å®‰è£…" default>

```bash
curl -Lo ./kind https://kind.sigs.k8s.io/dl/{{< stableVersion >}}/kind-darwin-amd64
chmod +x ./kind
mv ./kind /some-dir-in-your-PATH/kind
```
  </TabItem>
  <TabItem value="windows" label="ä½¿ç”¨ Windows å®‰è£…" default>

```bash
curl.exe -Lo kind-windows-amd64.exe https://kind.sigs.k8s.io/dl/{{< stableVersion >}}/kind-windows-amd64
Move-Item .\kind-windows-amd64.exe c:\some-dir-in-your-PATH\kind.exe
```
  </TabItem>
</Tabs >


### åˆ›å»ºé›†ç¾¤
```
kind create cluster --name my-cluster
Creating cluster "my-cluster" ...
 âœ“ Ensuring node image (kindest/node:v1.15.3) ğŸ–¼
 âœ“ Preparing nodes ğŸ“¦
 âœ“ Creating kubeadm config ğŸ“œ
 âœ“ Starting control-plane ğŸ•¹ï¸
Cluster creation complete. You can now use the cluster with:

export KUBECONFIG="$(kind get kubeconfig-path --name="my-cluster")"
kubectl cluster-info
```

### åˆ é™¤é›†ç¾¤

```bash
kind delete cluster
```

### é«˜çº§æ¨¡å¼


#### é…ç½® kind

æ‚¨å¯ä»¥é€šè¿‡æŒ‡å®šå‚æ•°`--config`ï¼Œåœ¨ kind åˆ›å»ºé›†ç¾¤é˜¶æ®µæ¥è‡ªå®šä¹‰é…ç½® kubernetes é›†ç¾¤å®‰è£…

```
kind create cluster --config kind-example-config.yaml
```

#### åˆ›å»ºå¤šèŠ‚ç‚¹é›†ç¾¤

æ‚¨å¯ä»¥åœ¨ node ä¸­æ·»åŠ  worker å¯¹è±¡æ¥å®šä¹‰ kind åœ¨åˆ›å»º kubernetes é›†ç¾¤æ—¶çš„node æ•°é‡ï¼Œé…ç½®å¦‚ä¸‹

```yaml
# three node (two workers) cluster config
kind: Cluster
apiVersion: kind.x-k8s.io/v1alpha4
nodes:
- role: control-plane
- role: worker
- role: worker
```

### è®¾ç½®æ§åˆ¶èŠ‚ç‚¹é›†ç¾¤

æ‚¨å¯ä»¥é…ç½®å¤šä¸ª `control-plane` ç”¨äºåˆ›å»ºé«˜å¯ç”¨çš„ kubernetes é›†ç¾¤

```yaml
kind: Cluster
apiVersion: kind.x-k8s.io/v1alpha4
nodes:
- role: control-plane
- role: control-plane
- role: control-plane
- role: worker
- role: worker
- role: worker
```

### æŒ‡å®š Kubernetes ç‰ˆæœ¬

æ‚¨å¯ä»¥é€šè¿‡åœ¨ nodes å¯¹è±¡ä¸­å®šä¹‰ kind çš„ nodeimage ç‰ˆæœ¬æ¥æŒ‡å®šå®‰è£…çš„ kubernetes ç‰ˆæœ¬ã€‚æ‚¨å¯ä»¥åœ¨ [releases page](https://github.com/kubernetes-sigs/kind/releases)ä¸­æŸ¥é˜… kind æ”¯æŒçš„ kubernetes å‘è¡Œç‰ˆé•œåƒåˆ—è¡¨ã€‚

```yaml
kind: Cluster
apiVersion: kind.x-k8s.io/v1alpha4
nodes:
- role: control-plane
  image: kindest/node:v1.16.4@sha256:b91a2c2317a000f3a783489dfb755064177dbc3a0b2f4147d50f04825d016f55
- role: worker
  image: kindest/node:v1.16.4@sha256:b91a2c2317a000f3a783489dfb755064177dbc3a0b2f4147d50f04825d016f55
```

###  å¯ç”¨ Feature Gates 

Feature gates æ˜¯ä¸€å¯¹ kv é”®å€¼å¯¹ç”¨äºå®šä¹‰ kubernetes æ˜¯å¦å¼€å¯æŸäº›ç‰¹æ€§ï¼Œä½ å¯ä»¥åœ¨ featureGates ä¸­å¯ç”¨å®ƒä»¬

```yaml
kind: Cluster
apiVersion: kind.x-k8s.io/v1alpha4
featureGates:
  FeatureGateName: true
```